<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Plastic Waste</title>
  <!--<meta charset="utf-8">-->
  <!--Import Google Icon Font-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">

  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="css/style.css" media="screen,projection" />
  <link type="text/css" rel="stylesheet" href="main.css" media="screen,projection" />
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/sankey.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>

  <style>
    div.tooltip {
      position: absolute;
      line-height: 1;
      font-family: "Lato";
      font-weight: bold;
      padding: 12px;
      background: #018AC0;
      color: #fff;
      border-radius: 2px;
    }

    #container {
      min-width: 1000px;
      max-width: 1000px;
      height: 800px;
      margin: 1em auto;
    }

    #csv {
      display: none;
    }

    /* 6-2 highcharts definition */
    body {
      font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
      text-align: center;
      width: 960px;
      height: 500px;
      position: relative;
    }

    svg {
      width: 100%;
      height: 100%;
      position: center;
    }

    path.slice {
      stroke-width: 1px;
    }

    text {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    polyline {
      opacity: .3;
      stroke: black;
      stroke-width: 2px;
      fill: none;
    }

    .labelValue {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 60%;
      opacity: .5;

    }

    .axis-label {
      text-anchor: middle;
    }

    label {
      font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-weight: normal;
    }

    .toolTip {
      font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
      position: absolute;
      display: none;
      width: auto;
      height: auto;
      font-weight: bold;
      background: none repeat scroll 0 0 white;
      border: 0 none;
      border-radius: 8px 8px 8px 8px;
      box-shadow: -3px 3px 15px #888888;
      color: #018AC0;
      font: 12px sans-serif;
      padding: 5px;
      text-align: center;
    }

    .legend {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 60%;
    }

    rect {
      stroke-width: 2;

    }

    text {
      font: 10px sans-serif;
    }


    text.value {
      font-size: 200%;
      fill: white;
    }

    text.label {
      font-size: 100%;
    }

    .axis text {
      font: 10px sans-serif;
    }

    .axis path {
      fill: none;
      stroke: #000;
    }

    .axis path,
    .axis line {
      fill: none;
      stroke: #000;
      stroke-width: 3;
      shape-rendering: crispEdges;
    }

    .axis .tick line {
      stroke-width: 1;
      stroke: rgba(0, 0, 0, 0.2);
    }

    .axisHorizontal path {
      fill: none;
    }

    .axisHorizontal line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .axisHorizontal .tick line {
      stroke-width: 1;
      stroke: #018AC0;
    }

    .bar {
      fill: #018AC0;
      fill-opacity: .9;
    }

    .x.axis path {}

    #title,
    #footer {
      font-family: "Lato";
      font-size: 20px;
      padding-top: 10px;
      padding-left: 50px;

    }

    #title {
      text-align: center;
    }

    #footer {
      font-size: 16px;
      text-align: left;
    }

    #source {
      font-size: 10px;
      text-align: left;
      padding-left: 50px;

    }
  </style>
</head>

<body>
  <!--
  <ul id="dropdown1" class="dropdown-content">
    <li><a id="link1" class="nav-section1" href="#section1">What</a></li>
    <li><a id="link2" class="nav-section1" href="#section2">Why</a></li>
  </ul>
  <ul id="dropdown2" class="dropdown-content">
    <li><a id="link3" class="nav-section1" href="#section3">Global</a></li>
    <li><a id="link4" class="nav-section1" href="#section4">USA</a></li>
    <li><a id="link5" class="nav-section1" href="#section5">Mismanagement</a></li>
  </ul>
  <nav>
    <div class="nav-wrapper">
      <a href="" class="left brand-logo">Plastic Waste</a>
      <ul class="right hide-on-med-and-down">
        <li><a class="dropdown-trigger" href="" data-target="dropdown1">Pollution<i class="material-icons right">arrow_drop_down</i></a></li>
        <li><a class="dropdown-trigger" href="" data-target="dropdown2">Production<i class="material-icons right">arrow_drop_down</i></a></li>
        <li><a id="link6" class="nav-section1" href="#section6">Where</a></li>
        <li><a id="link7" class="nav-section1" href="#section7">Plastic Bag</a></li>
        <li><a id="link8" class="nav-section1" href="#section8">Solution</a></li>
      </ul>
    </div>
  </nav>
  -->
  <nav>
    <div class="nav-wrapper">
      <p class="center brand-logo">Plastic Waste</p>
    </div>
    <div class="nav-wrapper">
      <ul class="hide-on-med-and-down">
        <li><a id="link1" class="nav-section1" href="#section1">What</a></li>
        <li><a id="link2" class="nav-section1" href="#section2">Why</a></li>
        <li><a id="link3" class="nav-section1" href="#section3">Global</a></li>
        <li><a id="link4" class="nav-section1" href="#section4">USA</a></li>
        <li><a id="link5" class="nav-section1" href="#section5">Mismanagement</a></li>
        <li><a id="link6" class="nav-section1" href="#section6">Where</a></li>
        <li><a id="link7" class="nav-section1" href="#section7">Plastic Bag</a></li>
        <li><a id="link8" class="nav-section1" href="#section8">Solution</a></li>
      </ul>
    </div>
  </nav>

  <br>
  <!-- Part 1: What is plastic pollution? -->
  <h1 id="section1">What is plastic pollution?</h1>
  <div w3-include-html="part1.html"></div>
  <br>

  <!-- Part 2: The Problem Of Plastics -->
  <h1 id="section2">The Problem Of Plastics </h1>
  <div w3-include-html="part2.html"></div>
  <br>

  <!-- Part 3: Global -->
  <div class="center">
    <h1 id="section3">The Urgency of the Global Plastic Problem</h1>
    <p>In the U.S. and around the world, plastic has only been in widespread production for a little under 70 years. Since its invention, the production of plastic has been growing almost exponentially and even in that relatively short amount of time, production
      totals have reached an incredible <b>355 million metric tons</b>. Worldwide reliance on the disposable plastic packaging is overwhelming our planet.</p>
  </div>
  <!--<div w3-include-html="part3.html"></div>-->
  <div id="title">Global Plastic Production </div>
  <div class="tooltip"></div>
  <br><button id="animate">Click to see how plastic production has changed over the years</button><br><br>
  <script>
    var N = 10;
    var w = 700;
    var h = 500;
    var margin = {
      top: 20,
      bottom: 60,
      left: 50,
      right: 20
    };
    var width = w - margin.left - margin.right;
    var height = h - margin.top - margin.bottom;
    var dataset = [{
        value: 1.5,
        year: "1950"
      },
      {
        value: 50,
        year: "1977"
      },
      {
        value: 100,
        year: "1989"
      },
      {
        value: 200,
        year: "2002"
      },
      {
        value: 250,
        year: "2009"
      },
      {
        value: 280,
        year: "2011"
      },
      {
        value: 299,
        year: "2013"
      },
      {
        value: 322,
        year: "2015"
      },
      {
        value: 335,
        year: "2016"
      }
    ];

    var yScale = d3.scale.linear()
      .domain([0, d3.max(dataset, function(d) {
        return d.value
      })])
      .range([height, 0]);

    var xScale = d3.time.scale()
      .domain(d3.extent(dataset, function(d) {
        return d.year
      }))
      .range([0, width]);

    var xAxis = d3.svg.axis()
      .scale(xScale)
      .ticks(20)
      .tickFormat(d3.format("0f"))
      .tickPadding(10)
      .orient("bottom");

    var yAxis = d3.svg.axis()
      .scale(yScale)
      .ticks(10)
      .tickPadding(10)
      .orient("left");

    var line = d3.svg.line()
      .x(function(d) {
        return xScale(d.year);
      })
      .y(function(d) {
        return yScale(d.value);
      })
      .interpolate("monotone");

    var area = d3.svg.area()
      .x(function(d) {
        return xScale(d.year)
      })
      .y0(height)
      .y1(function(d) {
        return yScale(d.value);
      })
      .interpolate("monotone");

    var chart = d3.select("body")
      .append("svg")
      .attr("id", "chart")
      .attr("height", h)
      .attr("width", w)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    function plot(params) {
      this.append("g")
        .classed("x axis", true)
        .attr("transform", "translate(0," + height + ")")
        .call(params.axis.x)
        .append("text")
        .attr("class", "label")
        .attr("y", 6)
        .attr("dy", ".71em")
        .attr("transform", "translate(350, 40)")
        .style("font-family", "Lato")
        .style("text-anchor", "end")
        .text("Year");

      this.append("g")
        .classed("y axis", true)
        .call(params.axis.y)
        .append("text")
        .attr("class", "label")
        .attr("y", 6)
        .attr("dy", ".71em")
        .attr("transform", "rotate(-90)")
        .style("text-anchor", "end")
        .style("font-family", "Lato")
        .text("Plastic production volume in million metric tons");
      //Enter
      this.selectAll('.area')
        .data([params.data])
        .enter()
        .append("path")
        .classed("area", true);

      this.selectAll('.trendline')
        .data([params.data])
        .enter()
        .append("path")
        .classed("trendline", true);

      this.selectAll('.point')
        .data(params.data)
        .enter()
        .append("circle")
        .attr("r", "4")
        .attr("fill", "#018AC0")
        .classed("point", true);

      //Update
      this.selectAll(".area")
        .attr("d", function(d) {
          return area(d);
        });

      this.selectAll(".trendline")
        .attr("d", function(d) {
          return line(d);
        });

      this.selectAll('.point')
        .attr("cx", function(d, i) {
          return xScale(d.year);
        })
        .attr("cy", function(d, i) {
          return yScale(d.value);
        })
        .on('mouseover', function(d) {
          params.tooltip
            .style("left", d3.event.x)
            .style("top", d3.event.y)
            .transition()
            .duration(500)
            .style("opacity", 1)
            .text('Plastic Production in ' + d.year + ' was ' + d.value + ' million metric tons');
        })
        .on('mouseout', function() {
          params.tooltip
            .transition()
            .duration(500)
            .style("opacity", 0);
        });
      //Exit
      this.selectAll('.area')
        .data(params.data)
        .exit()
        .remove();

      this.selectAll('.trendline')
        .data([params.data])
        .exit()
        .remove();

      this.selectAll('.point')
        .data(params.data)
        .exit()
        .remove();
    }

    plot.call(chart, {
      data: dataset,
      axis: {
        x: xAxis,
        y: yAxis
      },
      tooltip: d3.select(".tooltip")
    });

    d3.select('#animate').on('click', function() {
      var self = this;
      chart.selectAll('.trendline')
        .style("stroke-dashoffset", w + 100)
        .style("stroke-dasharray", w + 100)
        .transition()
        .duration(5000)
        .each("start", function() {
          d3.select(self).attr("disabled", "disabled")
        })
        .each("end", function() {
          d3.select(self).attr("disabled", null)
        })
        .style("stroke-dashoffset", 0);
    });
  </script>
  <br>

  <!-- Part 4: US -->
  <h1 id="section4">How much does the U.S contribute to plastic pollution?</h1>
  <!--<div w3-include-html="part4.html"></div>-->
  <div class="center">
    <p>If you live hundreds of miles away from the coast, it probably never occurs to you that the plastic bag or the straw fragments that you toss into the sewer might make its way into the Atlantic or the Pacific. But somewhere between 40,000 and 110,000
      metric tons of plastic waste generated by Americans end up in the ocean (Jambeck et al. 2015). This is the equivalent of throwing between 60 and 160 full-sized cars worth of weight in plastic into the ocean every day.</p>

    <div class='tableauPlaceholder' id='viz1525238978286' style='position: relative'>
      <noscript>
        <a href='#'><img alt='Tons of Plastic in the U.S. - 1960-2014 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;us&#47;us_plastics&#47;Sheet1&#47;1_rss.png' style='border: none' /></a>
      </noscript>
      <object class='tableauViz' style='display:none;'>
        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
        <param name='embed_code_version' value='3' />
        <param name='site_root' value='' />
        <param name='name' value='us_plastics&#47;Sheet1' />
        <param name='tabs' value='no' />
        <param name='toolbar' value='yes' />
        <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;us&#47;us_plastics&#47;Sheet1&#47;1.png' />
        <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' />
        <param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' />
        <param name='display_count' value='yes' /><param name='filter' value='publish=yes' />
      </object>
    </div>
    <script type='text/javascript'>
      var divElement = document.getElementById('viz1525238978286');
      var vizElement = divElement.getElementsByTagName('object')[0];
      vizElement.style.width = '100%';
      vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
      var scriptElement = document.createElement('script');
      scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      vizElement.parentNode.insertBefore(scriptElement, vizElement);
    </script>
  </div>
  <div class="center">
    <p>Most of the littered plastic waste worldwide ultimately ends up at sea. Swirled by currents, plastic litter accumulates over time at the center of major ocean vortices forming “garbage patches”, i.e. larges masses of ever-accumulating floating debris
      fields across the seas. One might think that because we produce so much plastic waste that we would be one of the main perpetrators, but in fact, the U.S. ranks 20th in the world for ocean pollution when it comes to plastic.</p>

    <div class='tableauPlaceholder' id='viz1525243335583' style='position: relative'>
      <noscript><a href='#'><img alt='Dashboard 1 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Pl&#47;Plastic_severity&#47;Dashboard1&#47;1_rss.png' style='border: none' /></a>
      </noscript>
      <object class='tableauViz' style='display:none;'>
        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
        <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='Plastic_severity&#47;Dashboard1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Pl&#47;Plastic_severity&#47;Dashboard1&#47;1.png' /> <param name='animate_transition' value='yes' />
        <param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' />
      </object>
    </div>
    <script type='text/javascript'>
      var divElement = document.getElementById('viz1525243335583');
      var vizElement = divElement.getElementsByTagName('object')[0];
      vizElement.style.width = '1000px';
      vizElement.style.height = '827px';
      var scriptElement = document.createElement('script');
      scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      vizElement.parentNode.insertBefore(scriptElement, vizElement);
    </script>
  </div>

  <br>

  <!-- Part 5: Mismanagement -->
  <h1 id="section5">What is mismanaged waste?</h1>
  <!--<div w3-include-html="part5.html"></div>-->
  <div class="center">
    <p>Mismanaged waste is waste that is not properly disposed of i.e., there isn’t a formally managed waste management system. Highly populated China tops the rank of countries whose mismanaged plastic waste goes into the Oceans, but the US also featured
      in the top 20 and contributed a higher rate of waste per person (Jambeck et al, 2015)
    </p>

    <div class='tableauPlaceholder' id='viz1525229147210' style='position: relative'>
      <noscript>
        <a href='#'><img alt='Dashboard 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Pl&#47;Plastic_severity&#47;Dashboard2&#47;1_rss.png' style='border: none' /></a>
      </noscript>
      <object class='tableauViz' style='display:none;'>
        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
        <param name='embed_code_version' value='3' /> <param name='site_root' value='' />
        <param name='name' value='Plastic_severity&#47;Dashboard2' />
        <param name='tabs' value='no' />
        <param name='toolbar' value='yes' />
        <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Pl&#47;Plastic_severity&#47;Dashboard2&#47;1.png' />
        <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' />
        <param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' />
        <param name='display_count' value='yes' /><param name='filter' value='publish=yes' />
      </object>
    </div>
    <script type='text/javascript'>
      var divElement = document.getElementById('viz1525229147210');
      var vizElement = divElement.getElementsByTagName('object')[0];
      vizElement.style.width = '1000px';
      vizElement.style.height = '827px';
      var scriptElement = document.createElement('script');
      scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      vizElement.parentNode.insertBefore(scriptElement, vizElement);
    </script>
    <br></br>
  </div>
  <br>

  <!-- Part 6: Where does all this plastic end up? -->
  <h1 id="section6">Where does all this plastic end up?</h1>
  <!--<div w3-include-html="part6.html"></div>-->
  <!-- Part 6-1 -->
  <div class="center">
    <p>Landfills and the natural environment are the final destinations for more than three-quarters of non-degradable plastic trash (Geyer et al. 2017). Since the ocean is downstream from nearly every terrestrial location, it is the receiving body for much
      of the plastic waste generated on land. The plastic that finds its way into the ocean is mostly mismanaged. It consists of small particles hidden just below the surface of the water that circulates and concentrates in the ocean gyres, large circular
      systems of ocean currents</p>
  </div>
  <div id="container"></div>
  <script type="text/javascript">
    Highcharts.chart('container', {
      plotOptions: {
        sankey: {
          nodeWidth: 5,
          curveFactor: 0.7,
          linkOpacity: 0.5,
          nodePadding: 20,
          states: {
            hover: {
              borderColor: "white",

              brightness: -0.3
            }
          }
        },
        series: {
          dataLabels: {
            enabled: true,
            style: {
              fontName: 'Lato',
              fontSize: 15,
              color: '#1a0000',
              textOutline: '0.6px contrast',
              align: 'Center',
              verticalAlign: 'middle',

            }
          }
        }
      },

      title: {
        text: 'Where does the Plastic you throw go?'
      },

      tooltip: {
        enabled: false
      },

      series: [{
        keys: ['from', 'to', 'weight', 'color'],
        data: [
          ['Beverage litter 33%', '6% On the surface', 1.98, '#800000'],
          ['Beverage litter 33%', '94% Underwater', 31.02, '#cc9900'],
          ['Tyre dust 18%', '6% On the surface', 1.08, '#800000'],
          ['Tyre dust 18%', '94% Underwater', 16.92, '#806000'],
          ['Maritime Waste 11%', '6% On the surface', 0.66, '#800000'],
          ['Maritime Waste 11%', '94% Underwater', 10.34, '#664d00'],
          ['Nurdles 9%', '6% On the surface', 0.54, '#800000'],
          ['Nurdles 9%', '94% Underwater', 8.46, '#4d3900'],

          ['Synthetic fibres 9%', '6% On the surface', 0.54, '#800000'],
          ['Synthetic fibres 9%', '94% Underwater', 8.46, '#332600'],
          ['Other plastic litter 9%', '6% On the surface', 0.54, '#800000'],
          ['Other plastic litter 9%', '94% Underwater', 8.46, '#997300'],

          ['Cigarettes 5%', '6% On the surface', 0.3, '#800000'],
          ['Cigarettes 5%', '94% Underwater', 4.7, '#61526c'],

          ['Plastic dust 4%', '6% On the surface', 0.24, '#800000'],
          ['Plastic dust 4%', '94% Underwater', 3.76, '#5d6c52'],

          ['Plastic bags 1%', '6% On the surface', .06, '#800000'],
          ['Plastic bags 1%', '94% Underwater', .94, '#4d4156'],

          ['Microbeads 1%', '6% On the surface', .06, '#800000'],
          ['Microbeads 1%', '94% Underwater', .94, '#302936'],

          ['6% On the surface', 'Litter on beaches', 4.5, '#999966'],
          ['6% On the surface', 'Entanglement', .75, '#cc6600'],
          ['6% On the surface', 'Ingestion', .75, '#526c61'],
          ['94% Underwater', 'Litter on beaches', 9.3, '#999966'],
          ['94% Underwater', 'Entanglement', 9.3, '#cc6600'],
          ['94% Underwater', 'Ingestion', 9.3, "#526c61"],
          ['94% Underwater', '70% eventually sinks to the sea floor', 66, "#0099cc", "skyblue"]

        ],

        nodes: [{
            id: 'Beverage litter 33%',
            color: '#cc9900',

          },

          {
            id: 'Tyre dust 18%',
            color: '#806000'
          },
          {
            id: 'Maritime Waste 11%',
            color: '#664d00'
          },
          {
            id: 'Nurdles 9%',
            color: '#4d3900'
          },
          {
            id: 'Synthetic fibres 9%',
            color: '#332600'
          },
          {
            id: 'Cigarettes 5%',
            color: '#61526c'
          },
          {
            id: 'Plastic dust 4%',
            color: '#5d6c52'
          },
          {
            id: 'Other plastic litter 9%',
            color: '#997300'
          },
          {
            id: 'Plastic bags 1%',
            color: '#4d4156'
          },
          {
            id: 'Microbeads 1%',
            color: '#302936'
          },

          {
            id: '6% On the surface',
            color: '#800000'
          },
          {
            id: '94% Underwater',
            color: ' #0099ff'
          },
          {
            id: 'Litter on beaches',
            color: "#999966"
          },
          {
            id: 'Ingestion',
            color: "#526c61"
          },
          {
            id: 'Entanglement',
            color: "#cc6600"
          },
          {
            id: '70% eventually sinks to the sea floor',
            color: "#0099cc"
          }


        ],
        type: 'sankey',
        name: ' ',

      }]
    });
  </script>
  <br>
  <!-- Part 6-2 -->
  <div class="center">
    <p>Unfortunately, we currently recycle only a small percentage of our plastic output. Unless some basic changes take place soon, the global plastic problem will only grow more and more severe over time.</p>
  </div>
  <!--<div w3-include-html="Plasticprojection-BarGraphD3js/plasticprojections.html"></div>-->
  <div id="title"> <b>Plastic Marine Debris Projections</b></div>
  <form height="200px">
    <label><input type="radio" name="dataset" id="dataset" value="Low" checked> Low (15%)</label>
    <label><input type="radio" name="dataset" id="dataset" value="Mid">Mid (25%) </label>
    <label><input type="radio" name="dataset" id="dataset" value="High"> High (40%)</label>
  </form>
  <script>
    d3.select("input[value=\"Low\"]").property("checked", true);

    datasetLow = [{
        label: "2010",
        value: 7
      },
      {
        label: "2015",
        value: 30
      },
      {
        label: "2020",
        value: 57
      },
      {
        label: "2025",
        value: 90
      },

    ];

    datasetMid = [{
        label: "2010",
        value: 10
      },
      {
        label: "2015",
        value: 50
      },
      {
        label: "2020",
        value: 95
      },
      {
        label: "2025",
        value: 155
      },

    ];

    datasetHigh = [{
        label: "2010",
        value: 15
      },
      {
        label: "2015",
        value: 80
      },
      {
        label: "2020",
        value: 150
      },
      {
        label: "2025",
        value: 235
      },
    ];

    d3.selectAll("input").on("change", selectDataset);

    function selectDataset() {
      var value = this.value;
      if (value == "Low") {
        change(datasetLow);
      } else if (value == "Mid") {
        change(datasetMid);
      } else if (value == "High") {
        change(datasetHigh);
      }
    }

    var margin = {
        top: (parseInt(d3.select('body').style('height'), 10) / 10),
        right: (parseInt(d3.select('body').style('width'), 10) / 20),
        bottom: (parseInt(d3.select('body').style('height'), 10) / 10),
        left: (parseInt(d3.select('body').style('width'), 10) / 10)
      },
      width = parseInt(d3.select('body').style('width'), 10) - margin.left - margin.right - 400,
      height = parseInt(d3.select('body').style('height'), 10) - margin.top - margin.bottom;

    var div = d3.select("body").append("div").attr("class", "toolTip");

    var formatPercent = d3.format("");

    var x = d3.scale.ordinal()
      .rangeRoundBands([0, width], .2, 0.5);

    var y = d3.scale.linear()
      .range([height, 0]);

    var xAxis = d3.svg.axis()
      .scale(x)
      .orient("bottom");

    var yAxis = d3.svg.axis()
      .scale(y)
      .orient("left")
      .tickFormat(formatPercent);

    var svg = d3.select("body").append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

    change(datasetLow);

    function change(dataset) {

      x.domain(dataset.map(function(d) {
        return d.label;
      }));
      y.domain([0, 250]);

      svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")")
        .call(xAxis)
        .append("text")
        .attr("x", (width / 2))
        .attr("y", (margin.top / 2) + 10)
        .style("font-size", "14px")
        .style("font-family", "Lato")
        .text("Year");

      svg.select(".y.axis").remove();
      svg.select(".x.axis").remove();

      svg.append("g")
        .attr("class", "y axis")
        .call(yAxis)
        .append("text")
        .attr("transform", "rotate(-90)")
        .attr("y", 6)
        .attr("dy", ".71em")
        .style("text-anchor", "end")
        .style("font-size", "14px")
        .style("font-family", "Lato")
        .text("Plastic marine debris, cumulative (in million metric tons)");


      var bar = svg.selectAll(".bar")
        .data(dataset, function(d) {
          return d.label;
        });
      // new data:
      bar.enter().append("rect")
        .attr("class", "bar")
        .attr("x", function(d) {
          return x(d.label);
        })
        .attr("y", function(d) {
          return y(d.value);
        })
        .attr("height", function(d) {
          return height - y(d.value);
        })
        .attr("width", x.rangeBand());

      bar
        .on("mousemove", function(d) {
          div.style("left", d3.event.pageX + 10 + "px");
          div.style("top", d3.event.pageY - 25 + "px");
          div.style("display", "inline-block");
          div.html("Year: <b>" + (d.label) + "</b>" + "<br>" + "<b>" + (d.value) + "</b>" + " Million MT");
        });
      bar
        .on("mouseout", function(d) {
          div.style("display", "none");
        });

      // removed data:
      bar.exit().remove();
      // updated data:
      bar
        .transition()
        .duration(750)
        .attr("y", function(d) {
          return y(d.value);
        })
        .attr("height", function(d) {
          return height - y(d.value);
        });
    };
  </script>
  <p> Estimates reflect assumed conversion rates of mismanaged plastic waste to marine debris <br>(high, 40%; mid, 25%; low, 15%)</p>
  <p> Source:Jambeck et al. (2015, February 13). Plastic waste inputs from land into the ocean.</p>
  <br>

  <!-- Part 7:the plastic bag policy around the world (tableau) -->
  <h1 id="section7">Plastic bags usage bans around the world</h1>
  <!--<div w3-include-html="part7.html"></div>-->
  <div class="center">
    <p>Every year, one trillion plastic bags – single use – are used, equating to 2 million per minute. As described above, there are a lot of problems associated with plastic bags, which is why bans or fees are in place in many countries. Different countries
      have different usage levels, but the entire world has to commit to reducing this usage.</p>

    <div class='tableauPlaceholder' id='viz1525207194779' style='position: relative'>
      <noscript>
        <a href='#'><img alt='Plastic Bag Policy - Year 1988 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;po&#47;policy_2&#47;Sheet1&#47;1_rss.png' style='border: none' /></a>
      </noscript>
      <object class='tableauViz' style='display:none;'>
        <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
        <param name='embed_code_version' value='3' />
        <param name='site_root' value='' />
        <param name='name' value='policy_2&#47;Sheet1' />
        <param name='tabs' value='no' />
        <param name='toolbar' value='yes' />
        <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;po&#47;policy_2&#47;Sheet1&#47;1.png' />
        <param name='animate_transition' value='yes' />
        <param name='display_static_image' value='yes' />
        <param name='display_spinner' value='yes' />
        <param name='display_overlay' value='yes' />
        <param name='display_count' value='yes' />
        <param name='filter' value='publish=yes' />
      </object>
    </div>
    <script type='text/javascript'>
      var divElement = document.getElementById('viz1525207194779');
      var vizElement = divElement.getElementsByTagName('object')[0];
      vizElement.style.width = '100%';
      vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
      var scriptElement = document.createElement('script');
      scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      vizElement.parentNode.insertBefore(scriptElement, vizElement);
    </script>
  </div>
  <br>

  <!-- Part 8: Solution -->
  <h1 id="section8">Solving the problem</h1>
  <div w3-include-html="part8.html"></div>
  <br>

  <!-- Part 9: reference and actions picture -->
  <div w3-include-html="part9.html"></div>
  <br>

  <!-- footer -->
  <footer class="android-footer mdl-mega-footer">
    <div class="mdl-mega-footer--top-section">
      <div class="mdl-mega-footer--right-section">
        <a class="mdl-typography--font-light" href="#top">
        Back to Top
        <i class="material-icons">expand_less</i>
      </a>
      </div>
    </div>

    <div class="mdl-mega-footer--middle-section">
      <p class="mdl-typography--font-light">Plastic Waste: © 2018 School of Information, UC Berkeley</p>
      <p class="mdl-typography--font-light">Some features and devices may not be available in all areas</p>
    </div>

  </footer>


  <!--  Scripts -->
  <!--Import d3-->
  <!--<script src="https://d3js.org/d3.v4.min.js"></script>-->
  <script src="js/d3.v4.min.js"></script>
  <!--<script src="js/d3.js"></script>-->
  <!--<script src="js/d3.min.js"></script>-->

  <!--Import jQuery-->
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>


  <!--Import app javascript-->
  <script src="app.js"></script>
  <!--<script src="js/materialize.js"></script>-->
  <script src="js/materialize.min.js"></script>

  <!--include HTML-->
  <script>
    includeHTML();
  </script>

</body>

</html>
